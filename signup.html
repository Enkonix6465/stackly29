<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Signup</title>
  <link rel="stylesheet" href="css/auth.css">
  <script src="js/darkmode.js" defer></script>
  <style>
    .lang-switcher {
      text-align: right;
      margin-bottom: 15px;
    }
    .lang-switcher select {
      padding: 5px 10px;
      border-radius: 6px;
    }
  </style>
</head>
<body>
  <div class="auth-container">

   
    <h2 data-i18n="signupTitle">Sign Up</h2>
     <!-- Language Toggle -->
    <div class="lang-switcher">
      <label for="languageToggle">ğŸŒ</label>
      <select id="languageToggle">
        <option value="en">English</option>
        <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
        <option value="he">×¢×‘×¨×™×ª</option>
      </select>
    </div>

    <form id="signupForm">
      <input type="text" id="signupFirstName" placeholder="First Name" data-i18n-placeholder="firstName" required>
      <input type="text" id="signupLastName" placeholder="Last Name" data-i18n-placeholder="lastName" required>
      <input type="text" id="signupUsername" placeholder="Email" data-i18n-placeholder="email" required>

      <div class="password-field">
        <input type="password" id="signupPassword" placeholder="Password" data-i18n-placeholder="password" required>
        <span class="toggle-password" onclick="togglePassword('signupPassword', this)">ğŸ‘ï¸</span>
      </div>

      <div class="password-field">
        <input type="password" id="signupConfirmPassword" placeholder="Confirm Password" data-i18n-placeholder="confirmPassword" required>
        <span class="toggle-password" onclick="togglePassword('signupConfirmPassword', this)">ğŸ‘ï¸</span>
      </div>

      <button type="submit" data-i18n="signupBtn">Sign Up</button>
      <button type="button" id="darkModeToggle">ğŸŒ™</button>
    </form>

    <p>
      <span data-i18n="alreadyAccount">Already have an account?</span>
      <a href="login.html" data-i18n="loginLink">Login here</a>
    </p>
  </div>

  <script src="js/auth.js"></script>

  <script>
    const I18N = {
      en: {
        signupTitle: "Sign Up",
        firstName: "First Name",
        lastName: "Last Name",
        email: "Email",
        password: "Password",
        confirmPassword: "Confirm Password",
        signupBtn: "Sign Up",
        alreadyAccount: "Already have an account?",
        loginLink: "Login here"
      },
      ar: {
        signupTitle: "Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨",
        firstName: "Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø£ÙˆÙ„",
        lastName: "Ø§Ø³Ù… Ø§Ù„Ø¹Ø§Ø¦Ù„Ø©",
        email: "Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ",
        password: "ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±",
        confirmPassword: "ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±",
        signupBtn: "Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨",
        alreadyAccount: "Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù„ÙØ¹Ù„ØŸ",
        loginLink: "ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù‡Ù†Ø§"
      },
      he: {
        signupTitle: "×”×¨×©××”",
        firstName: "×©× ×¤×¨×˜×™",
        lastName: "×©× ××©×¤×—×”",
        email: "××™××™×™×œ",
        password: "×¡×™×¡××”",
        confirmPassword: "××™×©×•×¨ ×¡×™×¡××”",
        signupBtn: "×”×™×¨×©×",
        alreadyAccount: "×›×‘×¨ ×™×© ×œ×š ×—×©×‘×•×Ÿ?",
        loginLink: "×”×ª×—×‘×¨ ×›××Ÿ"
      }
    };

    function applyLanguage(lang) {
      const dict = I18N[lang] || I18N.en;

      // Update lang & direction
      const html = document.documentElement;
      html.setAttribute("lang", lang);
      html.setAttribute("dir", (lang === "ar" || lang === "he") ? "rtl" : "ltr");

      // Replace inner text
      document.querySelectorAll("[data-i18n]").forEach(el => {
        const key = el.getAttribute("data-i18n");
        if (dict[key]) el.textContent = dict[key];
      });

      // Replace placeholders
      document.querySelectorAll("[data-i18n-placeholder]").forEach(el => {
        const key = el.getAttribute("data-i18n-placeholder");
        if (dict[key]) el.setAttribute("placeholder", dict[key]);
      });

      // Persist
      try { localStorage.setItem("lang", lang); } catch(e) {}
    }

    document.addEventListener("DOMContentLoaded", () => {
      const select = document.getElementById("languageToggle");

      let initLang = "en";
      try {
        initLang = localStorage.getItem("lang") || (navigator.language || "en").slice(0,2);
      } catch(e){}
      if (!I18N[initLang]) initLang = "en";

      select.value = initLang;
      applyLanguage(initLang);

      select.addEventListener("change", (e) => {
        applyLanguage(e.target.value);
      });
    });
  </script>
</body>
</html>
